<mat-card class="form-card">
  <mat-card-header class="card-header">
    <mat-card-title class="card-title">
      Detalle del Producto
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <div class="detail-grid">
      <!-- Informaci贸n B谩sica -->
      <div class="detail-section">
        <h3><mat-icon>info</mat-icon> Informaci贸n B谩sica</h3>
        <mat-divider></mat-divider>
        
        @if (product.id) {
          <div class="detail-row">
            <mat-label>ID:</mat-label>
            <span class="value">{{ product.id }}</span>
          </div>
        }

        <div class="detail-row">
          <mat-label>Nombre:</mat-label>
          <span class="value">{{ product.name }}</span>
        </div>

        <div class="detail-row">
          <mat-label>SKU:</mat-label>
          <span class="value">{{ product.sku }}</span>
        </div>

        @if (product.barcode) {
          <div class="detail-row">
            <mat-label>C贸digo de Barras:</mat-label>
            <span class="value">{{ product.barcode }}</span>
          </div>
        }

        <div class="detail-row">
          <mat-label>Categor铆a:</mat-label>
          <span class="value">{{ product.category }}</span>
        </div>

        @if (product.subcategory) {
          <div class="detail-row">
            <mat-label>Subcategor铆a:</mat-label>
            <span class="value">{{ product.subcategory }}</span>
          </div>
        }

        @if (product.description) {
          <div class="detail-row">
            <mat-label>Descripci贸n:</mat-label>
            <span class="value">{{ product.description }}</span>
          </div>
        }

        <div class="detail-row">
          <mat-label>Estado:</mat-label>
          <mat-chip [class]="product.is_active ? 'status-active' : 'status-inactive'">
            {{ product.is_active ? 'Activo' : 'Inactivo' }}
          </mat-chip>
        </div>
      </div>

      <!-- Informaci贸n de Precios -->
      <div class="detail-section">
        <h3><mat-icon>attach_money</mat-icon> Informaci贸n de Precios</h3>
        <mat-divider></mat-divider>
        
        <div class="detail-row">
          <mat-label>Precio Unitario:</mat-label>
          <span class="value price-highlight">{{ product.currency }} {{ product.unit_price | number:'1.2-2' }}</span>
        </div>

        <div class="detail-row">
          <mat-label>Unidad de Medida:</mat-label>
          <span class="value">{{ product.unit_of_measure }}</span>
        </div>

        <div class="detail-row">
          <mat-label>Moneda:</mat-label>
          <span class="value">{{ product.currency }}</span>
        </div>
      </div>

      <!-- Proveedor y Fabricaci贸n -->
      <div class="detail-section">
        <h3><mat-icon>business</mat-icon> Proveedor y Fabricaci贸n</h3>
        <mat-divider></mat-divider>
        
        @if (product.supplier_name) {
          <div class="detail-row">
            <mat-label>Proveedor:</mat-label>
            <span class="value">{{ product.supplier_name }}</span>
          </div>
        }

        @if (product.manufacturer) {
          <div class="detail-row">
            <mat-label>Fabricante:</mat-label>
            <span class="value">{{ product.manufacturer }}</span>
          </div>
        }

        @if (product.country_of_origin) {
          <div class="detail-row">
            <mat-label>Pa铆s de Origen:</mat-label>
            <span class="value">{{ product.country_of_origin }}</span>
          </div>
        }
      </div>

      <!-- Condiciones de Almacenamiento -->
      @if (product.storage_conditions) {
        <div class="detail-section">
          <h3><mat-icon>thermostat</mat-icon> Condiciones de Almacenamiento</h3>
          <mat-divider></mat-divider>
          
          <div class="detail-row">
            <mat-label>Cadena de Fr铆o:</mat-label>
            <mat-chip [class]="product.requires_cold_chain ? 'requires-cold-chain' : 'no-cold-chain'">
              {{ product.requires_cold_chain ? 'Requerida 锔' : 'No requerida' }}
            </mat-chip>
          </div>

          @if (getTemperatureRange()) {
            <div class="detail-row">
              <mat-label>Temperatura:</mat-label>
              <span class="value">{{ getTemperatureRange() }}</span>
            </div>
          }

          @if (product.storage_conditions.humidity_max) {
            <div class="detail-row">
              <mat-label>Humedad M谩xima:</mat-label>
              <span class="value">{{ product.storage_conditions.humidity_max }}%</span>
            </div>
          }
        </div>
      }

      <!-- Informaci贸n Regulatoria -->
      @if (product.regulatory_info) {
        <div class="detail-section">
          <h3><mat-icon>gavel</mat-icon> Informaci贸n Regulatoria</h3>
          <mat-divider></mat-divider>
          
          @if (product.regulatory_info.sanitary_registration) {
            <div class="detail-row">
              <mat-label>Registro Sanitario:</mat-label>
              <span class="value">{{ product.regulatory_info.sanitary_registration }}</span>
            </div>
          }

          @if (product.regulatory_info.regulatory_class) {
            <div class="detail-row">
              <mat-label>Clase Regulatoria:</mat-label>
              <span class="value">{{ product.regulatory_info.regulatory_class }}</span>
            </div>
          }

          <div class="detail-row">
            <mat-label>Requiere Prescripci贸n:</mat-label>
            <mat-chip [class]="product.regulatory_info.requires_prescription ? 'requires-prescription' : 'no-prescription'">
              {{ product.regulatory_info.requires_prescription ? 'S铆 ' : 'No' }}
            </mat-chip>
          </div>
        </div>
      }

      <!-- Dimensiones F铆sicas -->
      @if (product.physical_dimensions) {
        <div class="detail-section">
          <h3><mat-icon>straighten</mat-icon> Dimensiones F铆sicas</h3>
          <mat-divider></mat-divider>
          
          @if (product.physical_dimensions.weight_kg) {
            <div class="detail-row">
              <mat-label>Peso:</mat-label>
              <span class="value">{{ product.physical_dimensions.weight_kg }} kg</span>
            </div>
          }

          @if (product.physical_dimensions.length_cm && product.physical_dimensions.width_cm && product.physical_dimensions.height_cm) {
            <div class="detail-row">
              <mat-label>Dimensiones:</mat-label>
              <span class="value">
                {{ product.physical_dimensions.length_cm }}  
                {{ product.physical_dimensions.width_cm }}  
                {{ product.physical_dimensions.height_cm }} cm
              </span>
            </div>
          }
        </div>
      }

      <!-- Metadatos -->
      <div class="detail-section">
        <h3><mat-icon>schedule</mat-icon> Metadatos</h3>
        <mat-divider></mat-divider>
        
        @if (product.created_at) {
          <div class="detail-row">
            <mat-label>Fecha de Creaci贸n:</mat-label>
            <span class="value">{{ formatDate(product.created_at) }}</span>
          </div>
        }

        @if (product.updated_at) {
          <div class="detail-row">
            <mat-label>ltima Actualizaci贸n:</mat-label>
            <span class="value">{{ formatDate(product.updated_at) }}</span>
          </div>
        }

        <div class="detail-row">
          <mat-label>Descontinuado:</mat-label>
          <mat-chip [class]="product.is_discontinued ? 'status-inactive' : 'status-active'">
            {{ product.is_discontinued ? 'S铆' : 'No' }}
          </mat-chip>
        </div>
      </div>

      <!-- URL de Imagen -->
      @if (product.image_url) {
        <div class="detail-section">
          <h3><mat-icon>image</mat-icon> Imagen</h3>
          <mat-divider></mat-divider>
          
          <div class="detail-row">
            <mat-label>URL:</mat-label>
            <span class="value">{{ product.image_url }}</span>
          </div>
        </div>
      }
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button mat-raised-button type="button" (click)="cerrar()">
        Cerrar
      </button>
    </div>
  </mat-card-content>
</mat-card>
