<header class="topbar" role="region" aria-label="Barra superior">
      <div class="title">
        <h2>MediSupply</h2>
        <p>{{ 'DASHBOARD.SUBTITLE' | translate }}</p>
      </div>
      <div class="controls" role="group" aria-label="Controles de usuario">
        <div class="controls-relative">
          <div class="lang-select-wrap" style="position:relative;">
            <button class="lang-select" (click)="showLangMenu.set(!showLangMenu())" [attr.aria-expanded]="showLangMenu()" aria-haspopup="true" aria-controls="langMenu" [title]="'DASHBOARD.CHANGE_LANGUAGE' | translate" data-cy="language-selector">
              <span class="lang-icon">üåê</span>
              <span class="lang-text">{{ selectedLanguage().toUpperCase() }}</span>
              <span class="lang-arrow" [class.open]="showLangMenu()">‚ñº</span>
            </button>
            @if (showLangMenu()) {
              <div class="lang-menu" id="langMenu" role="menu">
                @for (lang of languages; track lang) {
                  <button 
                    role="menuitem" 
                    class="lang-menu-btn" 
                    (click)="onLanguageChange(lang.code)" 
                    [class.active]="selectedLanguage() === lang.code"
                    data-cy="language-option">
                    <span class="lang-flag">{{ lang.code === 'es' ? 'üá™üá∏' : 'üá¨üáß' }}</span>
                    <span class="lang-label">{{ lang.label }}</span>
                    @if (selectedLanguage() === lang.code) {
                      <span class="lang-check">‚úì</span>
                    }
                  </button>
                }
              </div>
            }
          </div>
        </div>
        <button class="notif" [attr.aria-label]="'DASHBOARD.NOTIFICATIONS' | translate" [title]="'DASHBOARD.NOTIFICATIONS' | translate" tabindex="0" data-cy="notifications-button">üîî</button>
        <div style="display:flex; align-items:center; gap:8px">
          <div class="profile-info">
            <div class="profile-info-name">Laura G√≥mez</div>
            <div class="profile-info-role">{{ 'DASHBOARD.ADMINISTRATOR' | translate }}</div>
          </div>
          <div class="avatar" aria-hidden="true">LG</div>
        </div>
      </div>
    </header>
    <section class="grid" [attr.aria-label]="'DASHBOARD.QUICK_ACCESS' | translate">
      <!-- Card 1 Proveedores -->
      <article class="card" aria-labelledby="card1-title" tabindex="0" data-cy="suppliers-card">
        <div class="card-top">
          <div class="icon" aria-hidden="true">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 7l9-4 9 4v9a2 2 0 0 1-2 2h-14a2 2 0 0 1-2-2z" stroke="#1E63A8" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div>
            <h3 id="card1-title">{{ 'DASHBOARD.SUPPLIERS.TITLE' | translate }}</h3>
            <p class="muted">{{ 'DASHBOARD.SUPPLIERS.DESCRIPTION' | translate }}</p>
          </div>
        </div>
        <div class="cta">
          <button mat-raised-button color="primary" routerLink="/proveedor-list" [attr.aria-label]="'DASHBOARD.SUPPLIERS.REGISTER_NEW' | translate" data-cy="register-supplier-button">{{ 'DASHBOARD.SUPPLIERS.REGISTER_NEW' | translate }}</button>
          <p>   </p>
          <button mat-raised-button color="primary" routerLink="/proveedor-upload" [attr.aria-label]="'DASHBOARD.SUPPLIERS.BULK_UPLOAD' | translate" data-cy="upload-suppliers-button">{{ 'DASHBOARD.SUPPLIERS.BULK_UPLOAD' | translate }}</button>

        </div>
      </article>

      <!-- Card 6 Productos -->
      <article class="card" aria-labelledby="card6-title" tabindex="0" data-cy="products-card">
        <div class="card-top">
          <div class="icon" aria-hidden="true">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 7l9-4 9 4v9a2 2 0 0 1-2 2h-14a2 2 0 0 1-2-2z" stroke="#1E63A8" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div>
            <h3 id="card6-title">{{ 'DASHBOARD.PRODUCTS.TITLE' | translate }}</h3>
            <p class="muted">{{ 'DASHBOARD.PRODUCTS.DESCRIPTION' | translate }}</p>
          </div>
        </div>
        <div class="cta">
          <button mat-raised-button color="primary" routerLink="/producto-list" [attr.aria-label]="'DASHBOARD.PRODUCTS.REGISTER_NEW' | translate" data-cy="register-product-button">{{ 'DASHBOARD.PRODUCTS.REGISTER_NEW' | translate }}</button>
          <p>   </p>
          <button mat-raised-button color="primary" routerLink="/producto-upload" [attr.aria-label]="'DASHBOARD.PRODUCTS.BULK_UPLOAD' | translate" data-cy="upload-products-button">{{ 'DASHBOARD.PRODUCTS.BULK_UPLOAD' | translate }}</button>
        </div>
      </article>

      <!-- Card 2 -->
      <article class="card" aria-labelledby="card2-title" tabindex="0" data-cy="salespersons-card">
        <div class="card-top">
          <div class="icon" aria-hidden="true">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M17 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" stroke="#1E63A8" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="7" r="4" stroke="#1E63A8" stroke-width="1.6"/></svg>
          </div>
          <div>
            <h3 id="card2-title">{{ 'DASHBOARD.SALESPERSONS.TITLE' | translate }}</h3>
            <p class="muted">{{ 'DASHBOARD.SALESPERSONS.DESCRIPTION' | translate }}</p>
          </div>
        </div>
        <div class="cta">
          <button mat-raised-button color="primary" routerLink="/vendedores" [attr.aria-label]="'DASHBOARD.SALESPERSONS.ADD' | translate" data-cy="add-salesperson-button">{{ 'DASHBOARD.SALESPERSONS.ADD' | translate }}</button>
        </div>
      </article>

      <!-- Card 3 -->
      <article class="card" aria-labelledby="card3-title" tabindex="0" data-cy="reports-card">
        <div class="card-top">
          <div class="icon" aria-hidden="true">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M17 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" stroke="#1E63A8" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="7" r="4" stroke="#1E63A8" stroke-width="1.6"/></svg>
          </div>
          <div>
            <h3 id="card3-title">{{ 'DASHBOARD.REPORTS.TITLE' | translate }}</h3>
            <p class="muted">{{ 'DASHBOARD.REPORTS.DESCRIPTION' | translate }}</p>
          </div>
        </div>
        <div class="cta">
          <button mat-raised-button color="primary" routerLink="/informe-ventas" [attr.aria-label]="'DASHBOARD.REPORTS.VIEW' | translate" data-cy="view-reports-button">{{ 'DASHBOARD.REPORTS.VIEW' | translate }}</button>
        </div>
      </article>

      <!-- Card 4 (wide) -->
      <article class="card" aria-labelledby="card4-title" tabindex="0" data-cy="inventory-card">
        <div style="display:flex; gap:16px; align-items:center; min-width:0;">
          <div class="icon" aria-hidden="true">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M12 21s7-4.5 7-10a7 7 0 1 0-14 0c0 5.5 7 10 7 10z" stroke="#1E63A8" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="11" r="2.2" stroke="#1E63A8" stroke-width="1.6" stroke-linecap="round"/></svg>
          </div>
          <div style="min-width:0">
            <h3 id="card4-title">{{ 'DASHBOARD.INVENTORY.TITLE' | translate }}</h3>
            <p class="muted">{{ 'DASHBOARD.INVENTORY.DESCRIPTION' | translate }}</p>
          </div>
        </div>
        <div class="cta">
          <button mat-raised-button color="primary" routerLink="/producto-localizacion" [attr.aria-label]="'DASHBOARD.INVENTORY.SEARCH' | translate" data-cy="search-product-location-button">{{ 'DASHBOARD.INVENTORY.SEARCH' | translate }}</button>
        </div>

      </article>

      <!-- Card 5 -->
      <article class="card" aria-labelledby="card5-title" tabindex="0" data-cy="routes-card">
        <div class="card-top">
          <div class="icon" aria-hidden="true">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M1 3h13l7 7v8a1 1 0 0 1-1 1h-1M16 21a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm-10 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z" stroke="#1E63A8" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div>
            <h3 id="card5-title">{{ 'DASHBOARD.ROUTES.TITLE' | translate }}</h3>
            <p class="muted">{{ 'DASHBOARD.ROUTES.DESCRIPTION' | translate }}</p>
          </div>
        </div>
        <div class="cta">
          <button mat-raised-button color="primary" routerLink="/rutas" [attr.aria-label]="'DASHBOARD.ROUTES.VIEW' | translate" data-cy="view-routes-button">{{ 'DASHBOARD.ROUTES.VIEW' | translate }}</button>
        </div>
      </article>


      <!-- Card 7 Metas de venta -->
      <article class="card" aria-labelledby="card7-title" tabindex="0" data-cy="goals-card">
        <div class="card-top">
          <div class="icon" aria-hidden="true">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="#1E63A8" stroke-width="1.6"/><path d="M8 12l2.5 2.5L16 9" stroke="#1E63A8" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div>
            <h3 id="card7-title">{{ 'DASHBOARD.GOALS.TITLE' | translate }}</h3>
            <p class="muted">{{ 'DASHBOARD.GOALS.DESCRIPTION' | translate }}</p>
          </div>
        </div>
        <div class="cta">
          <button mat-raised-button color="primary" routerLink="/metas" [attr.aria-label]="'DASHBOARD.GOALS.MANAGE' | translate" data-cy="manage-goals-button">{{ 'DASHBOARD.GOALS.MANAGE' | translate }}</button>
        </div>
      </article>
    </section>
